import{y as f,b as u,d,B as s,j as g,C as c,D as V,K as _,g as l,G as b,k as w,F as v}from"./@vue-Dd7PfzIL.js";import{_ as x}from"./IButton-nJx-Yn-X.js";import{_ as n,u as y}from"./useMutation-BK_m-cCX.js";import{a as S}from"./index-D_CKXU6A.js";import{u as R}from"./vue-router-CYCvQ7zy.js";import"./pinia-qQrRtHZ7.js";import"./axios-BimPEqV4.js";const U={__name:"RegistretionForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(p,{emit:i}){const r=p,o=i,a=f({name:"",email:"",password:""});return(m,e)=>(u(),d("form",{onSubmit:e[3]||(e[3]=V(t=>o("submit",_(a)),["prevent"]))},[s(n,{class:"mb-4",label:"Повне ім'я",modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.name=t)},null,8,["modelValue"]),s(n,{class:"mb-4",label:"Електронна пошта",placeholder:"email@gmail.com",modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=t=>a.email=t)},null,8,["modelValue"]),s(n,{label:"Пароль",type:"password",modelValue:a.password,"onUpdate:modelValue":e[2]||(e[2]=t=>a.password=t)},null,8,["modelValue"]),s(x,{class:"mt-10 w-full",variant:"gradient",type:"submit","is-loading":r.isLoading},{default:g(()=>e[4]||(e[4]=[c("Створити аккаунт")])),_:1},8,["is-loading"])],32))}},k={key:0,class:"text-red-500"},M={__name:"RegistrationView",setup(p){const i=R(),{isLoading:r,error:o,mutation:a}=y({mutationFn:m=>S.registerUser(m),onSuccess:()=>{i.replace("/map")}});return(m,e)=>(u(),d(v,null,[s(U,{onSubmit:l(a),"is-loading":l(r)},null,8,["onSubmit","is-loading"]),l(o)?(u(),d("div",k,b(l(o).message),1)):w("",!0)],64))}};export{M as default};
