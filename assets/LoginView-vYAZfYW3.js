import{y as f,b as m,d as u,B as i,j as c,C as g,D as _,g as s,G as b,k as V,F as w}from"./@vue-Dd7PfzIL.js";import{_ as p,u as v}from"./useMutation-BK_m-cCX.js";import{_ as x}from"./IButton-nJx-Yn-X.js";import{u as y}from"./vue-router-CYCvQ7zy.js";import{a as L}from"./index-D_CKXU6A.js";import"./pinia-qQrRtHZ7.js";import"./axios-BimPEqV4.js";const S={__name:"LoginForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(d,{emit:n}){const r=d,o=n,t=f({email:"",password:""});return(l,e)=>(m(),u("form",{onSubmit:e[2]||(e[2]=_(a=>o("submit",t),["prevent"]))},[i(p,{class:"mb-4",label:"Електронна пошта",modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=a=>t.email=a)},null,8,["modelValue"]),i(p,{type:"password",label:"Пароль",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.password=a)},null,8,["modelValue"]),i(x,{class:"mt-10 w-full",variant:"gradient",type:"submit","is-loading":r.isLoading},{default:c(()=>e[3]||(e[3]=[g("Увійти")])),_:1},8,["is-loading"])],32))}},k={key:0,class:"text-red-500"},U={__name:"LoginView",setup(d){const n=y(),{isLoading:r,error:o,mutation:t}=v({mutationFn:l=>L.login(l),onSuccess:()=>{n.replace("/map")}});return(l,e)=>(m(),u(w,null,[i(S,{onSubmit:s(t),"is-loading":s(r)},null,8,["onSubmit","is-loading"]),s(o)?(m(),u("div",k,b(s(o).message),1)):V("",!0)],64))}};export{U as default};
