import{B as g,o as u,e as d,b as t,w as c,d as f,h as V,H as _,G as b,u as l,t as w,k as v,F as x,C as S}from"./index-DSFvASHh.js";import{_ as y}from"./IButton-Ds4H7-7V.js";import{_ as m,u as R}from"./useMutation-C3ZOFqU_.js";const U={__name:"RegistretionForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(p,{emit:n}){const i=p,o=n,a=g({name:"",email:"",password:""});return(r,e)=>(u(),d("form",{onSubmit:e[3]||(e[3]=V(s=>o("submit",_(a)),["prevent"]))},[t(m,{class:"mb-4",label:"Повне ім'я",modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.name=s)},null,8,["modelValue"]),t(m,{class:"mb-4",label:"Електронна пошта",placeholder:"email@gmail.com",modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=s=>a.email=s)},null,8,["modelValue"]),t(m,{label:"Пароль",type:"password",modelValue:a.password,"onUpdate:modelValue":e[2]||(e[2]=s=>a.password=s)},null,8,["modelValue"]),t(y,{class:"mt-10 w-full",variant:"gradient",type:"submit","is-loading":i.isLoading},{default:c(()=>e[4]||(e[4]=[f("Створити аккаунт")])),_:1},8,["is-loading"])],32))}},k={key:0,class:"text-red-500"},C={__name:"RegistrationView",setup(p){const n=b(),{isLoading:i,error:o,mutation:a}=R({mutationFn:r=>S.registerUser(r),onSuccess:()=>{n.replace("/map")}});return(r,e)=>(u(),d(x,null,[t(U,{onSubmit:l(a),"is-loading":l(i)},null,8,["onSubmit","is-loading"]),l(o)?(u(),d("div",k,w(l(o).message),1)):v("",!0)],64))}};export{C as default};
