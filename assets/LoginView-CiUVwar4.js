import{B as c,o as m,e as u,b as n,w as f,d as g,h as _,G as b,u as o,t as V,k as w,F as v,C as x}from"./index-737Ak8Ms.js";import{_ as p,u as L}from"./useMutation-8dBcgFVL.js";import{_ as S}from"./IButton-CmW3kW9N.js";const y={__name:"LoginForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(d,{emit:i}){const l=d,s=i,t=c({email:"",password:""});return(r,e)=>(m(),u("form",{onSubmit:e[2]||(e[2]=_(a=>s("submit",t),["prevent"]))},[n(p,{class:"mb-4",label:"Електронна пошта",modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=a=>t.email=a)},null,8,["modelValue"]),n(p,{type:"password",label:"Пароль",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.password=a)},null,8,["modelValue"]),n(S,{class:"mt-10 w-full",variant:"gradient",type:"submit","is-loading":l.isLoading},{default:f(()=>e[3]||(e[3]=[g("Увійти")])),_:1},8,["is-loading"])],32))}},k={key:0,class:"text-red-500"},C={__name:"LoginView",setup(d){const i=b(),{isLoading:l,error:s,mutation:t}=L({mutationFn:r=>x.login(r),onSuccess:()=>{i.replace("/map")}});return(r,e)=>(m(),u(v,null,[n(y,{onSubmit:o(t),"is-loading":o(l)},null,8,["onSubmit","is-loading"]),o(s)?(m(),u("div",k,V(o(s).message),1)):w("",!0)],64))}};export{C as default};
